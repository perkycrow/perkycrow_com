[
  {
    "type": "action",
    "title": "Add and execute action",
    "source": "const dispatcher = new ActionDispatcher({$id: 'dispatcher'})\n\nconst main = dispatcher.register('main')\nmain.addAction('greet', (name) => {\n    logger.log('Hello,', name)\n})\n\ndispatcher.setActive('main')\ndispatcher.execute('greet', 'World')"
  },
  {
    "type": "action",
    "title": "Stack operations",
    "source": "const dispatcher = new ActionDispatcher({$id: 'dispatcher'})\n\ndispatcher.register('game')\ndispatcher.register('menu')\n\nlogger.log('Initial:', dispatcher.getActive())\n\ndispatcher.pushActive('game')\nlogger.log('After push game:', dispatcher.getActive())\n\ndispatcher.pushActive('menu')\nlogger.log('After push menu:', dispatcher.getActive())\n\ndispatcher.popActive()\nlogger.log('After pop:', dispatcher.getActive())"
  },
  {
    "type": "action",
    "title": "Methods as actions",
    "source": "class PlayerController extends ActionController {\n    shoot () {\n        logger.log('Player shoots!')\n    }\n\n    heal (amount = 10) {\n        logger.log(`Healing ${amount} HP`)\n    }\n}\n\nconst dispatcher = new ActionDispatcher({$id: 'dispatcher'})\ndispatcher.register('player', PlayerController)\ndispatcher.setActive('player')\n\ndispatcher.execute('shoot')\ndispatcher.execute('heal', 25)"
  },
  {
    "type": "action",
    "title": "executeTo",
    "source": "const dispatcher = new ActionDispatcher({$id: 'dispatcher'})\n\nconst ctrl = dispatcher.register('myController')\nctrl.addAction('test', () => {\n    logger.log('Action executed on myController')\n})\n\ndispatcher.setActive('myController')\ndispatcher.executeTo('myController', 'test')"
  },
  {
    "type": "action",
    "title": "List all actions",
    "source": "class GameController extends ActionController {\n    shoot () {}\n    jump () {}\n}\n\nconst dispatcher = new ActionDispatcher({$id: 'dispatcher'})\n\nconst main = dispatcher.register('main')\nmain.addAction('save', () => {})\nmain.addAction('load', () => {})\n\ndispatcher.register('game', GameController)\n\nconst actionsMap = dispatcher.listAllActions()\n\nfor (const [controllerName, actions] of actionsMap) {\n    logger.log(`${controllerName}:`, actions.map(a => a.name).join(', '))\n}"
  },
  {
    "type": "action",
    "title": "Propagation demo",
    "source": "class GameController extends ActionController {\n    move () {\n        logger.log('Game: player moves')\n    }\n\n    jump () {\n        logger.log('Game: player jumps')\n    }\n}\n\nclass MenuController extends ActionController {\n    static propagable = ['move']\n\n    move () {\n        logger.log('Menu: navigate')\n    }\n\n    confirm () {\n        logger.log('Menu: confirm selection')\n    }\n}\n\nconst dispatcher = new ActionDispatcher({$id: 'dispatcher'})\n\ndispatcher.register('game', GameController)\ndispatcher.register('menu', MenuController)\n\ndispatcher.setActive(['game', 'menu'])\n\nlogger.log('--- move action (propagates) ---')\ndispatcher.execute('move')\n\nlogger.log('--- confirm action (stops at menu) ---')\ndispatcher.execute('confirm')\n\nlogger.log('--- jump action (only on game) ---')\ndispatcher.execute('jump')"
  }
]